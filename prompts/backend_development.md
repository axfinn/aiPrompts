# 后端开发 Prompts

## API 开发

### RESTful API 实现
```
请用 [后端语言/框架，如 Node.js/Express、Python/Django、Go/Gin] 实现以下 RESTful API：

API 功能：[具体功能描述，如"用户管理"、"订单处理"等]

要求：
1. 完整的 CRUD 操作
2. 请求验证和错误处理
3. 数据库集成（[数据库类型，如 PostgreSQL、MongoDB]）
4. 身份验证和授权机制
5. API 文档（如 Swagger/OpenAPI）
6. 日志记录
7. 遵循 Git 开发流程规范：
   - 所有新功能开发必须在新建的功能分支上进行
   - 开发完成后必须进行代码审查（CR）
   - 审核通过后才能将功能分支合并到主分支
   - 禁止直接在主分支上进行开发
   - 项目采用版本管理，只有在CR通过并合并到主分支时才会触发版本变更、打标签和同步远程仓库
```

### GraphQL API 实现
```
请用 [后端语言/框架] 实现 GraphQL API：

功能需求：
1. 定义类型和关系
2. 实现查询和变更操作
3. 数据加载优化（如 DataLoader）
4. 错误处理
5. 分页支持
6. 在 [前端框架] 中的使用示例
```

## 数据库设计与操作

### ORM 使用
```
请用 [ORM 框架，如 Sequelize/TypeORM/Prisma] 实现 [业务场景] 的数据模型。

要求：
1. 定义数据模型和关系
2. 实现基本的 CRUD 操作
3. 复杂查询示例
4. 事务处理（如适用）
```

### 数据库迁移
```
请为 [数据库类型] 编写数据库迁移脚本，实现 [业务变更描述]。

要求：
1. 向上和向下迁移支持
2. 数据迁移处理（如适用）
3. 索引和约束定义
4. 回滚策略
```

## 身份验证与授权

### 认证系统
```
请实现一个完整的身份验证系统：

功能要求：
1. 用户注册和登录
2. 密码加密存储
3. JWT Token 生成和验证
4. 刷新令牌机制
5. 多设备登录支持
6. 使用 [后端语言/框架] 实现
```

### 权限控制
```
请实现基于 [权限模型，如 RBAC/ABAC] 的权限控制系统：

要求：
1. 用户、角色、权限模型设计
2. 中间件/装饰器实现权限检查
3. 细粒度权限控制
4. 在 [后端框架] 中的集成示例
```

## 微服务与分布式系统

### 服务间通信
```
请实现 [微服务架构] 中服务间通信机制：

技术要求：
1. 使用 [通信方式，如 HTTP/gRPC/消息队列]
2. 服务发现机制
3. 负载均衡
4. 容错处理（熔断、重试等）
5. 在 [后端语言/框架] 中的实现
```

### 缓存策略
```
请为 [具体业务场景] 设计并实现缓存策略：

要求：
1. 选择合适的缓存方案（如 Redis/Memcached）
2. 缓存更新策略
3. 缓存穿透、击穿、雪崩的防护
4. 在 [后端语言/框架] 中的实现
```

## 性能与监控

### 性能优化
```
请为 [后端服务] 提供性能优化方案：

优化方向：
1. 数据库查询优化
2. API 响应时间优化
3. 内存使用优化
4. 并发处理优化
```

### 监控和日志
```
请为 [后端服务] 实现监控和日志系统：

要求：
1. 关键指标监控（如响应时间、错误率）
2. 日志收集和分析（如 ELK 栈）
3. 告警机制
4. 分布式追踪（如 Jaeger）
5. 在 [后端语言/框架] 中的实现
```

### 安全加固
```
请为 [后端服务] 提供安全加固方案：

要求：
1. 输入验证和清理
2. 身份验证和授权强化
3. 安全头设置（如 CSP、HSTS）
4. 防止常见攻击（如 CSRF、XSS、SQL 注入）
```