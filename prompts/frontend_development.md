# 前端开发 Prompts

## UI 组件开发

### 通用组件实现

```text
请用 [前端框架，如 React/Vue/Angular] 实现一个 [组件名称] 组件。

要求：
1. 支持 [具体功能列表]
2. 可通过 props 配置的属性
3. 完整的 TypeScript 类型定义（如适用）
4. CSS 样式，支持 [样式方案，如 CSS Modules/Styled Components/TailwindCSS]
5. 组件使用示例
6. 遵循 Git 开发流程规范：
   - 所有新功能开发必须在新建的功能分支上进行
   - 开发完成后必须进行代码审查（CR）
   - 审核通过后才能将功能分支合并到主分支
   - 禁止直接在主分支上进行开发
   - 项目采用版本管理，只有在CR通过并合并到主分支时才会触发版本变更、打标签和同步远程仓库
```

### 响应式布局

```text
请用 [CSS 框架，如 Bootstrap/TailwindCSS] 实现一个响应式 [页面/组件] 布局。

要求：
1. 支持移动端、平板和桌面端
2. 使用 [具体断点规范]
3. 提供 HTML 结构和 CSS 样式
4. 兼容主流浏览器
```

### 可访问性增强 (A11y)

```text
组件/页面： [名称]
当前问题： [描述]

请：
1. 列出可访问性改进点（语义标签/aria 属性/键盘导航/对比度）
2. 给出改进前后示例代码
3. 提供自动化检测工具推荐（axe / Lighthouse）
4. 给出屏幕阅读器测试要点
```

## 交互功能实现

### 表单处理

```text
请用 [前端框架] 实现一个具有以下功能的表单：

功能要求：
1. 包含 [输入框/选择框/单选框/复选框等] 元素
2. 表单验证（包括实时验证和提交时验证）
3. 错误提示展示
4. 提交处理（包括加载状态和成功/失败反馈）

技术要求：
1. 使用 [表单库，如 Formik/React Hook Form/VeeValidate]
2. 完整的 TypeScript 类型定义
3. 良好的用户体验
```

### 状态管理

```text
请用 [状态管理库，如 Redux/Vuex/Pinia/Zustand] 实现 [具体业务] 的状态管理。

要求：
1. 定义状态结构
2. 实现所有必要的 actions/mutations
3. 提供 selectors/getters
4. 包含中间件/副作用处理（如适用）
5. 展示在组件中如何使用
```

### 错误边界与健壮性

```text
框架： [React/Vue]
场景：组件渲染可能抛错

请：
1. 设计错误边界组件/全局错误捕获方案
2. 分类：渲染错误、资源加载错误、未处理 Promise
3. 上报策略（批量/节流/关联 traceId）
4. 用户友好降级界面设计
```

### 富文本 / Markdown 编辑器定制

```text
需求： [功能点]
基础库： [Slate / ProseMirror / TipTap / CodeMirror]

请：
1. 插件/节点扩展设计
2. 内容 Schema / 数据格式
3. 防 XSS 安全处理
4. 协同编辑可扩展建议
```

## 性能优化

### 加载优化

```text
请为以下前端场景提供性能优化方案：

[具体场景描述，如"大型表格渲染"、"图片列表展示"等]

要求：
1. 分析性能瓶颈
2. 提供具体的优化方案
3. 用 [前端框架] 实现优化后的代码
4. 对比优化前后的效果
```

### 动画效果

```text
请用 [动画方案，如 CSS3/React Spring/Framer Motion] 实现 [具体动画效果]。

要求：
1. 流畅的动画体验
2. 良好的性能表现
3. 可配置的动画参数
4. 兼容性处理
```

### 首屏与交互性能 (Web Vitals)

```text
项目类型： [SSR / SPA / MPA]
当前指标： LCP=?, FID/INP=?, CLS=?, TTFB=?

请：
1. 诊断关键瓶颈（渲染/阻塞脚本/资源体积/图片/字体）
2. 提出优化措施（按优先级）
3. 给出构建层面与运行时层面组合方案
4. 输出验证步骤与回归监控方案
```

### 包体积分析与拆分

```text
构建工具： [Webpack / Vite / Rollup]
当前主包大小： [数值]

请：
1. 生成拆分策略（路由/组件/依赖按需）
2. 标记可替换重型依赖（如 moment -> dayjs）
3. 提供动态导入示例
4. 输出优化收益预估表
```

## 数据可视化

### 图表实现

```text
请用 [图表库，如 ECharts/Chart.js/D3] 实现一个 [图表类型] 图表。

要求：
1. 展示 [数据类型] 数据
2. 支持响应式设计
3. 提供交互功能（如提示框、图例等）
4. 可配置的样式选项
5. 在 [前端框架] 中的使用示例
```

### 实时数据可视化优化

```text
数据源： [WebSocket / SSE / 轮询]
更新频率： [数值]

请：
1. 批量更新与节流策略
2. 虚拟化/窗口化渲染方案
3. 内存使用控制建议
4. 数据采样与降噪策略
```

## 工程化实践

### 构建配置

```text
请为 [前端项目类型] 提供构建配置方案。

要求：
1. 使用 [构建工具，如 Webpack/Vite/Rollup]
2. 支持 [功能要求，如代码分割、Tree Shaking、热更新等]
3. 提供完整的配置文件
4. 说明关键配置项的作用
```

### 测试方案

```text
请为 [前端组件/功能] 编写测试用例。

要求：
1. 使用 [测试框架，如 Jest/Vitest/Cypress]
2. 包含单元测试和集成测试
3. 覆盖主要功能和边界情况
4. 提供测试代码和说明
```

### 性能监控

```text
请为 [前端项目] 设计性能监控方案。

要求：
1. 关键性能指标（如 FID、CLS、FCP 等）监控
2. 使用 [监控工具，如 Google Analytics、Sentry、自建方案等]
3. 提供性能数据收集和上报机制
4. 异常监控和错误追踪
```

### 前端架构演进评估

```text
现状： [技术栈 / 规模 / 痛点]
目标： [可维护 / 性能 / 统一规范]

请：
1. 列出现状问题清单
2. 提出演进路径（短期/中期/长期）
3. 评估成本 vs 收益
4. 给出里程碑与衡量指标
```

### 模块化与微前端对比

```text
场景： [单体应用复杂度提升 / 多团队协作]
候选方案： [模块联邦 / 微前端框架 / 代码拆分]

请：
1. 维度对比（耦合度、性能、部署、开发体验）
2. 推荐方案与理由
3. 风险与规避措施
4. PoC 验证重点
```

## 安全与防护

### 前端安全加固

```text
应用类型： [B端 / C端 / Hybrid]

请：
1. XSS 防护策略（编码/白名单/DOMPurify）
2. CSRF 对策（SameSite/Cookie/双 Token）
3. 依赖完整性校验 (SRI)
4. 本地存储敏感信息风险与替代
5. 点击劫持防护 (X-Frame-Options / CSP)
```

### 内容安全策略 (CSP) 生成

```text
页面特征： 内联脚本? 第三方域? 动态 eval?

请：
1. 生成最小可用 CSP 模板
2. 标记需替换的内联脚本处理方式（nonce/hash）
3. 监控模式与阻断模式切换建议
4. 上线渐进启用步骤
```

## 国际化 (i18n)

### 国际化改造计划

```text
当前： [未支持 / 部分支持]
语言： [目标语言列表]

请：
1. 提取文案策略（AST / 运行时扫描）
2. 语言包组织与命名规范
3. 占位符 / 复数 / 性别 / 时区处理
4. 动态按需加载与缓存策略
5. 回退与缺失 key 监控
```

## 运维协同与发布

### 前端灰度与回滚策略

```text
部署方式： [Nginx / CDN / Edge Functions]

请：
1. 版本产物命名与多版本共存
2. 灰度用户分流策略（Cookie / Header / IP 段 / 百分比）
3. 资源缓存刷新与回滚路径
4. 验证与监控指标
```

### 资源缓存策略

```text
静态资源： [JS/CSS/Img/Font]

请：
1. 强缓存与协商缓存配置
2. 文件指纹策略（hash / chunk 分离）
3. 长缓存下 HTML 更新保障
4. CDN 配置建议
```

## 开发效率

### 设计稿到代码的自动化提示

```text
输入：设计稿描述 / 组件层级 / 约束 (spacing, color scale)
输出：请生成：
1. Token 与变量定义
2. 可复用基础组件清单
3. 代码骨架示例
4. 规范化命名建议
```

### Mock 与占位数据策略

```text
接口稳定度： [低/中/高]

请：
1. Mock 层级（前端本地 / 服务代理 / MSW / WireMock）
2. 数据生成库推荐 (Faker / Chance)
3. 动态延迟 / 错误注入方案
4. 与测试联动方式
```

## 调试与排错

### 前端网络问题定位

```text
症状： [白屏 / 加载慢 / 资源 404]

请：
1. 排查路径（DNS -> TLS -> 首字节 -> 资源阻塞）
2. Chrome DevTools 面板使用要点
3. 重现与录制方案（HAR / Replay）
4. 提供结论输出模版
```

### 内存与泄漏排查

```text
表现： [占用持续升高 / 页面卡顿]

请：
1. 制定采集流程（快照/分配量/时间线）
2. 常见根因模式（闭包引用/事件未解绑/缓存未清理）
3. 修复建议分类
4. 复测验证清单
```

## 文档与协作

### 组件文档自动生成规范

```text
技术栈： [React + TS / Vue + TS]

请：
1. 文档生成工具选择（Storybook / Styleguidist / VitePress）
2. Props / Events / Slots 自动提取方式
3. 示例与 Playground 组织结构
4. 变更可追溯策略 (Changelog / Version Badge)
```

### 代码评审自检清单

```text
准备提交的改动： [描述]

请生成自检清单：
1. 功能正确性
2. 边界与异常
3. 性能与资源
4. 可访问性
5. 安全（XSS/敏感信息）
6. 可维护性（命名/抽象/重复）
```

## 监控与可观测性

### 前端错误采集方案

```text
范围： [浏览器 / Node SSR / 小程序]

请：
1. 错误类型分类（运行时/资源/Promise/接口）
2. 去重与采样策略
3. Trace 关联（traceId 注入策略）
4. 指标与告警阈值建议
```

### 用户行为埋点设计

```text
目标： [转化 / 留存 / 漏斗]

请：
1. 事件命名规则
2. 埋点分层（曝光/点击/转化/性能）
3. 上报机制（批量/即时/压缩/重试）
4. 隐私与合规 (GDPR/匿名化)
```

## 示例请求模板

```text
当我提供：
场景：<一句话>
栈：<React/Vue/...>
目标：<性能 / 稳定 / 架构演进>
约束：<时间 / 人力 / 兼容性>
输出：请按（现状诊断 -> 方案分层 -> 风险与缓解 -> 验收指标）结构生成
```